/* --- 设计稿风格 (红橙渐变新年风) --- */
.campaignRoot {
  --bg-main: #b81c22; /* 纯正中国红 */
  --text-primary: #fff;
  --text-secondary: rgba(255,255,255,0.8);
  --card-border: 1px solid rgba(0,0,0,0.05);
  --card-bg: #ffffff;
  --slot-bg: rgba(255,255,255,0.1);
  --slot-border: 1px solid rgba(255,255,255,0.15);
  --slot-active-bg: #ffffff;
  --slot-active-shadow: 0 10px 20px rgba(0,0,0,0.1);
  --btn-bg: #ffffff;
  --btn-text: #b81c22;
  --btn-shadow: 0 4px 12px rgba(0,0,0,0.1);
  --modal-bg: #ffffff;
  --modal-border: none;
  --input-bg: #f5f5f7;
  --input-border: none;
  --title-gradient: #ffffff;

  /* 使用设计稿背景图 */
  background-image: url('/images/campaign/design/bg.png');
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;
  min-height: 100vh;
}

/* 字体优化 - 高级黑体 */
.fontPremium {
  font-family: "PingFang SC", "Helvetica Neue", "Microsoft YaHei", sans-serif;
}

/* 背景纹理 - 移除 */
.bgPattern {
  display: none;
}

/* 标题 */
.titleMain {
  color: #fff;
  background: none;
  text-shadow: none;
  font-weight: 600;
  letter-spacing: 0;
}

/* 3D透视容器 */
.perspectiveContainer {
  perspective: 1200px;
}

/* 卡片容器 */
.cardContainer {
  transform-style: preserve-3d;
  transition: transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.cardContainer.flipped {
  transform: rotateY(180deg);
}

/* 卡片正反面 */
.cardFace {
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* 背面 - 使用设计稿图片，不需要额外背景 */
.cardBack {
  background: transparent;
  border: none;
  display: flex;
  justify-content: center;
  align-items: center;
}

.cardBackInner {
  background: #b81c22;
  width: 100%; height: 100%;
  border-radius: 24px;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 6px solid #fff;
  position: relative;
  overflow: hidden;
}

/* 增加背面细节 */
.cardBackInner::after {
  content: "福";
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
  font-weight: 900;
  font-size: 80px;
  color: rgba(0,0,0,0.1);
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

/* 正面 */
.cardFront {
  background-color: var(--card-bg);
  transform: rotateY(180deg);
  border: var(--card-border);
}

/* 字符 - 高级黑体质感 */
.cardChar {
  background: linear-gradient(135deg, #d4af37 0%, #a86c05 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  font-family: "PingFang SC", "Helvetica Neue", "Microsoft YaHei", sans-serif;
  font-weight: 800; /* 加粗黑体 */
  letter-spacing: -2px; /* 紧凑一点更现代 */
  filter: drop-shadow(0 2px 0px rgba(0,0,0,0.1));
  position: relative;
}

/* 字符印章效果 */
.cardChar::after {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 120%; height: 120%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
  z-index: -1;
  border-radius: 50%;
}

/* 光晕 - 移除 */
.glowBase {
  display: none;
}

/* 集卡槽 */
.slot {
  background: var(--slot-bg);
  border: var(--slot-border);
  color: rgba(255,255,255,0.3);
  font-family: "PingFang SC", sans-serif;
  font-weight: 500;
}

.slotActive {
  background: var(--slot-active-bg);
  box-shadow: var(--slot-active-shadow);
  color: #b81c22;
  border: none;
  font-weight: 800;
}

/* 弹窗 */
.modalMask {
  background: rgba(0, 0, 0, 0.75);
  transition: opacity 0.3s;
}

.modalBody {
  background: var(--modal-bg);
  border: var(--modal-border);
  box-shadow: 0 40px 80px -20px rgba(0, 0, 0, 0.3);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* 按钮 */
.btnPrimary {
  background: var(--btn-bg);
  color: var(--btn-text);
  box-shadow: var(--btn-shadow);
}

/* 输入框 */
.inputBox {
  background: var(--input-bg);
  border: var(--input-border);
}

/* 按钮微光效果 - 移除或保留 */
.btnShine {
  position: relative;
  overflow: hidden;
}

/* ============ 抽卡旋转动画 ============ */

/* 抽卡旋转动画 - 5圈 + 惯性停止 */
@keyframes cardDrawSpin {
  0% {
    transform: rotateY(0deg) scale(1);
    filter: blur(0);
  }
  5% {
    transform: rotateY(0deg) scale(0.95);
    filter: blur(1px);
  }
  10% {
    transform: rotateY(180deg) scale(0.95);
  }
  85% {
    transform: rotateY(1620deg) scale(0.98);
  }
  95% {
    transform: rotateY(1760deg) scale(1);
  }
  100% {
    transform: rotateY(1800deg) scale(1);
    filter: blur(0);
  }
}

.cardSpinning {
  animation: cardDrawSpin 2.5s cubic-bezier(0.1, 0.7, 0.2, 1) forwards;
}

/* ============ 收集金币弹入动画 ============ */
@keyframes bounceIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* ============ 哇宝骑马动画（简化版） ============ */
@keyframes wabaoRiding {
  0% {
    transform: translate(-50%, -50%) scale(0.1);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    transform: translate(-50%, -50%) scale(0.95);
  }
  100% {
    transform: translate(-50%, -50%) scale(1);
  }
}

.wabaoRidingContainer {
  position: fixed;
  inset: 0;
  z-index: 100;
  background: transparent;
  pointer-events: none;
}

.wabaoRiding {
  position: absolute;
  top: 50%;
  left: 50%;
  animation: wabaoRiding 3s ease-out forwards;
}

/* ============ 金光粒子效果 ============ */
@keyframes sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0) rotate(0deg);
  }
  50% {
    opacity: 1;
    transform: scale(1) rotate(180deg);
  }
}

.sparkle {
  position: absolute;
  width: 20px;
  height: 20px;
  background: radial-gradient(circle, #ffd700 0%, transparent 70%);
  border-radius: 50%;
  animation: sparkle 1.5s ease-in-out infinite;
}

/* ============ 按钮禁用状态 ============ */
.btnDisabled {
  filter: grayscale(50%);
  opacity: 0.7;
  cursor: not-allowed;
}

/* ============ 呼吸动画效果 ============ */
@keyframes breathing {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.05);
    filter: brightness(1.1);
  }
}

.breathingBtn {
  animation: breathing 2s ease-in-out infinite;
  transform-origin: center center;
}

/* ============ 登录弹窗样式 ============ */
.loginCard {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s;
}

.loginCardOuter {
  background: linear-gradient(135deg, #f0c676 0%, #d4a84b 50%, #c9973a 100%);
  border-radius: 24px;
  padding: 8px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4), 0 0 30px rgba(212, 175, 55, 0.3);
}

.loginCardInner {
  background: linear-gradient(180deg, #e63946 0%, #d62839 40%, #c91f37 100%);
  border-radius: 18px;
  padding: 32px 24px;
  position: relative;
  overflow: hidden;
}

.loginFireworkLeft,
.loginFireworkRight {
  position: absolute;
  top: 20px;
  width: 60px;
  height: 60px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='2' fill='%23ffd700'/%3E%3Cpath d='M50 30 L50 10 M50 70 L50 90 M30 50 L10 50 M70 50 L90 50 M35 35 L20 20 M65 35 L80 20 M35 65 L20 80 M65 65 L80 80' stroke='%23ffd700' stroke-width='1.5' opacity='0.6'/%3E%3C/svg%3E");
  background-size: contain;
  opacity: 0.5;
}

.loginFireworkLeft {
  left: 10px;
}

.loginFireworkRight {
  right: 10px;
}

.loginInput {
  background: linear-gradient(135deg, #fff8e7 0%, #ffe4c4 100%);
  border-radius: 50px;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.loginButton {
  width: 100%;
  padding: 16px 32px;
  border-radius: 50px;
  background: linear-gradient(135deg, #f0c676 0%, #ffd700 30%, #ffb347 70%, #f0c676 100%);
  box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.3);
  border: none;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform 0.2s, box-shadow 0.2s;
}

.loginButton:active {
  transform: scale(0.98);
  box-shadow: 0 2px 10px rgba(212, 175, 55, 0.3);
}

.loginButton::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: buttonShine 3s infinite;
}

@keyframes buttonShine {
  0% { left: -100%; }
  50%, 100% { left: 100%; }
}

/* ============ 结果弹窗样式 ============ */
.resultCard {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s;
}

.resultCardOuter {
  background: linear-gradient(135deg, #f0c676 0%, #d4a84b 50%, #c9973a 100%);
  border-radius: 24px;
  padding: 8px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.resultCardInner {
  background: linear-gradient(180deg, #e63946 0%, #d62839 40%, #c91f37 100%);
  border-radius: 18px;
  padding: 16px;
  position: relative;
  overflow: hidden;
}

.cardFireworkLeft,
.cardFireworkRight {
  position: absolute;
  top: 10px;
  width: 50px;
  height: 50px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='2' fill='%23ffd700'/%3E%3Cpath d='M50 30 L50 10 M50 70 L50 90 M30 50 L10 50 M70 50 L90 50 M35 35 L20 20 M65 35 L80 20 M35 65 L20 80 M65 65 L80 80' stroke='%23ffd700' stroke-width='1.5' opacity='0.4'/%3E%3C/svg%3E");
  background-size: contain;
  opacity: 0.6;
}

.cardFireworkLeft {
  left: 5px;
}

.cardFireworkRight {
  right: 5px;
}

.cardGlow {
  position: absolute;
  inset: -20px;
  background: radial-gradient(ellipse at center, rgba(255, 215, 0, 0.3) 0%, transparent 70%);
  z-index: -1;
  pointer-events: none;
}

.collectButton {
  padding: 16px 40px;
  border-radius: 50px;
  background: linear-gradient(135deg, #f0c676 0%, #ffd700 30%, #ffb347 70%, #f0c676 100%);
  box-shadow: 0 4px 20px rgba(212, 175, 55, 0.5), inset 0 2px 4px rgba(255, 255, 255, 0.3);
  border: none;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform 0.2s, box-shadow 0.2s;
}

.collectButton:active {
  transform: scale(0.98);
  box-shadow: 0 2px 15px rgba(212, 175, 55, 0.4);
}

.collectButton::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  animation: buttonShine 3s infinite;
}

/* ============ 最终奖励弹窗样式 ============ */
.finalCard {
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s;
}

.finalCardOuter {
  background: linear-gradient(135deg, #f0c676 0%, #d4a84b 50%, #c9973a 100%);
  border-radius: 24px;
  padding: 8px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
}

.finalCardInner {
  background: linear-gradient(180deg, #e63946 0%, #d62839 40%, #c91f37 100%);
  border-radius: 18px;
  padding: 16px;
  position: relative;
  overflow: hidden;
}

.rulesCard {
  transition: transform 0.3s, opacity 0.3s;
}

.rulesCardInner {
  background: linear-gradient(135deg, #fffbf0 0%, #fff8e7 100%);
  border-radius: 16px;
  padding: 20px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
}

/* ============ 烟花效果 ============ */
.fireworksContainer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}

.firework {
  position: absolute;
  width: 80px;
  height: 80px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='3' fill='%23ffd700'/%3E%3Cpath d='M50 20 L50 5 M50 80 L50 95 M20 50 L5 50 M80 50 L95 50 M28 28 L15 15 M72 28 L85 15 M28 72 L15 85 M72 72 L85 85' stroke='%23ffd700' stroke-width='2' stroke-linecap='round'/%3E%3Ccircle cx='50' cy='10' r='2' fill='%23ff6b6b'/%3E%3Ccircle cx='50' cy='90' r='2' fill='%23ff6b6b'/%3E%3Ccircle cx='10' cy='50' r='2' fill='%23ff6b6b'/%3E%3Ccircle cx='90' cy='50' r='2' fill='%23ff6b6b'/%3E%3C/svg%3E");
  background-size: contain;
  opacity: 0;
  animation: fireworkBurst 3s ease-out infinite;
}

.firework1 {
  top: 5%;
  left: 10%;
  animation-delay: 0s;
}

.firework2 {
  top: 8%;
  right: 10%;
  animation-delay: 0.8s;
}

.firework3 {
  top: 15%;
  left: 5%;
  animation-delay: 1.5s;
}

.firework4 {
  top: 12%;
  right: 5%;
  animation-delay: 2.2s;
}

@keyframes fireworkBurst {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  20% {
    opacity: 0.8;
    transform: scale(1);
  }
  60% {
    opacity: 0.6;
    transform: scale(1.1);
  }
  100% {
    opacity: 0;
    transform: scale(1.3);
  }
}

/* ============ 弹入弹出动画 ============ */
@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

:global(.animate-fadeInDown) {
  animation: fadeInDown 0.5s ease-out forwards;
}

:global(.animate-fadeInUp) {
  animation: fadeInUp 0.5s ease-out forwards;
}

:global(.animate-bounceIn) {
  animation: bounceIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}
