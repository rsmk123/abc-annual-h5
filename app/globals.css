@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* CSS 重置 - 兼容旧版浏览器 */
*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* 修复 rem 单位问题 - 固定根字体大小，防止华为浏览器强制最小字体 */
html {
  font-size: 16px !important;
  /* 防止浏览器强制最小字体 */
  -webkit-text-size-adjust: 100% !important;
  text-size-adjust: 100% !important;
}

body {
  padding: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  background: var(--background);
  color: var(--foreground);
  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, Arial, Helvetica, sans-serif;
  /* 防止文本选择（移动端优化） */
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  /* 防止字体缩放 */
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* 根元素布局 - 使用旧版 Flexbox 语法兼容 */
#__next {
  /* 旧版 Flexbox 语法（兼容荣耀/小米浏览器） */
  display: -webkit-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
  /* 旧版 flex-direction */
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -ms-flex-direction: column;
  -webkit-flex-direction: column;
  flex-direction: column;
  min-height: 100vh;
  width: 100%;
  /* 防止滚动条 */
  overflow-x: hidden;
}

/* 图片和媒体元素 */
img,
video {
  max-width: 100%;
  height: auto;
  display: block;
}

/* 链接样式重置 */
a {
  text-decoration: none;
  color: inherit;
}

/* 按钮样式重置 */
button {
  border: none;
  background: none;
  padding: 0;
  font: inherit;
  cursor: pointer;
  outline: none;
  /* 移除移动端点击高亮 */
  -webkit-tap-highlight-color: transparent;
}

/* 输入框样式重置 */
input,
textarea {
  font: inherit;
  border: none;
  outline: none;
  /* 移除 iOS 输入框样式 */
  -webkit-appearance: none;
  appearance: none;
  border-radius: 0;
}

/* ============ Flexbox 兼容性工具类 - 覆盖 Tailwind，支持荣耀/华为浏览器 ============ */
/* 这些类使用 !important 确保覆盖 Tailwind 默认样式，兼容旧版浏览器内核 */

.flex {
  display: -webkit-box !important;
  display: -ms-flexbox !important;
  display: -webkit-flex !important;
  display: flex !important;
}

.flex-col {
  -webkit-box-orient: vertical !important;
  -webkit-box-direction: normal !important;
  -ms-flex-direction: column !important;
  -webkit-flex-direction: column !important;
  flex-direction: column !important;
}

.flex-row {
  -webkit-box-orient: horizontal !important;
  -webkit-box-direction: normal !important;
  -ms-flex-direction: row !important;
  -webkit-flex-direction: row !important;
  flex-direction: row !important;
}

.items-center {
  -webkit-box-align: center !important;
  -ms-flex-align: center !important;
  -webkit-align-items: center !important;
  align-items: center !important;
}

.items-start {
  -webkit-box-align: start !important;
  -ms-flex-align: start !important;
  -webkit-align-items: flex-start !important;
  align-items: flex-start !important;
}

.items-end {
  -webkit-box-align: end !important;
  -ms-flex-align: end !important;
  -webkit-align-items: flex-end !important;
  align-items: flex-end !important;
}

.justify-center {
  -webkit-box-pack: center !important;
  -ms-flex-pack: center !important;
  -webkit-justify-content: center !important;
  justify-content: center !important;
}

.justify-start {
  -webkit-box-pack: start !important;
  -ms-flex-pack: start !important;
  -webkit-justify-content: flex-start !important;
  justify-content: flex-start !important;
}

.justify-end {
  -webkit-box-pack: end !important;
  -ms-flex-pack: end !important;
  -webkit-justify-content: flex-end !important;
  justify-content: flex-end !important;
}

.justify-between {
  -webkit-box-pack: justify !important;
  -ms-flex-pack: justify !important;
  -webkit-justify-content: space-between !important;
  justify-content: space-between !important;
}

.flex-1 {
  -webkit-box-flex: 1 !important;
  -ms-flex: 1 1 0% !important;
  -webkit-flex: 1 1 0% !important;
  flex: 1 1 0% !important;
}

/* ============ Transform/Translate 兼容性工具类 - 支持荣耀/华为浏览器 ============ */

/* translate-x-1/2 和 translate-y-1/2 的兼容性版本 */
.-translate-x-1\/2 {
  -webkit-transform: translateX(-50%) !important;
  -ms-transform: translateX(-50%) !important;
  transform: translateX(-50%) !important;
}

.-translate-y-1\/2 {
  -webkit-transform: translateY(-50%) !important;
  -ms-transform: translateY(-50%) !important;
  transform: translateY(-50%) !important;
}

/* 同时使用 translate-x 和 translate-y */
.-translate-x-1\/2.-translate-y-1\/2 {
  -webkit-transform: translate(-50%, -50%) !important;
  -ms-transform: translate(-50%, -50%) !important;
  transform: translate(-50%, -50%) !important;
}

/* translate-y-4 的兼容性版本 */
.translate-y-4 {
  -webkit-transform: translateY(1rem) !important;
  -ms-transform: translateY(1rem) !important;
  transform: translateY(1rem) !important;
}

/* ============================================================
   inset-0 兼容性修复 - 支持旧版 WebView (Chrome 87 以下)
   inset 是 top/right/bottom/left 的简写，旧浏览器不支持
   ============================================================ */

.inset-0 {
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
}

/* 确保 fixed inset-0 正常工作 */
.fixed.inset-0 {
  position: fixed !important;
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
}

/* 确保 absolute inset-0 正常工作 */
.absolute.inset-0 {
  position: absolute !important;
  top: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
}
